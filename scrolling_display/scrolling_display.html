<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src="jquery-1.11.1.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<script type="text/javascript">
	$(document).ready(function(){
		var page = 1;	//记录页码
		var i = 4;	//每页放四张图
		//下一页
		$("span.next").click(function(){
			var $parent = $(this).parents("div.v_show");		//根据当前元素找到父元素
			var $v_show = $parent.find("div.v_content_list");	//根据父元素找到内容展示区域
			var $v_content = $parent.find("div.v_content");			//“内容展示”外围div
			var v_width = $v_content.width();
			var len = $v_show.find("li").length;		//一共有多少个li
			var page_count = Math.ceil(len / i);		//只要不是整数，就往大的方向取最小的整数
			if (!$v_show.is(":animated")){	//是否处于动画
				if (page == page_count){	//到最后一页,则跳转第一页
					$v_show.animate({"left":"0px"}, "slow");		//通过改变left的值，跳到第一个界面
					page = 1;
				}else{
					$v_show.animate({"left":"-="+v_width}, "slow");
					page++;
				}
			}
			$parent.find("span").eq((page-1)).addClass("current").siblings().removeClass("current");
		});
		//上一页
		$("span.prev").click(function(){
			var $parent = $(this).parents("div.v_show");		//根据当前元素找到父元素
			var $v_show = $parent.find("div.v_content_list");	//根据父元素找到内容展示区域
			var $v_content = $parent.find("div.v_content");			//“内容展示”外围div
			var v_width = $v_content.width();
			var len = $v_show.find("li").length;		//一共有多少个li
			var page_count = Math.ceil(len / i);		//只要不是整数，就往大的方向取最小的整数
			if (!$v_show.is(":animated")){	//是否处于动画
				if (page == 1){	//到最后一页,则跳转第一页
					$v_show.animate({"left":"-="+v_width*(page_count-1)}, "slow");		//通过改变left的值，跳到第一个界面
					page = page_count;
				}else{
					$v_show.animate({"left":"+="+v_width}, "slow");
					page--;
				}
			}
			$parent.find("span").eq((page-1)).addClass("current").siblings().removeClass("current");
		});
	});
</script>
<body>
	<div class="v_show"> 
		<!--头部标题、按钮等-->
		<div class="v_caption">
			<h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
			<div class="highlight_tip">
				<span class="current">1</span>
				<span>2</span>
				<span>3</span>
				<span>4</span>
			</div>
			<div class="change_btn">
				<span class="prev">上一页</span>
				<span class="next">下一页</span>
			</div>
			<em><a href="#">更多>></a></em>
		</div>
		<!--内容展示区域-->
		<div class="v_content">
			<div class="v_content_list">
				<ul>
					<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
					<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
					<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
					<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
					<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
					<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
					<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
					<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
					<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>